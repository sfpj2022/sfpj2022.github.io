(function(){"use strict";var e={9300:function(e,t,s){var a=s(8935),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],o={},i=o,c=s(1001),u=(0,c.Z)(i,r,n,!1,null,null,null),l=u.exports,m=s(563);(0,m.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=s(2809),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users"},e._l(e.users,(function(t){return s("div",{staticClass:"user",on:{click:function(s){return e.goUser(t.username)}}},[s("span",[e._v(e._s(t.name))]),s("img",{attrs:{src:t.photo}})])})),0)},f=[],h=s(6926),v={name:"HomeView",data(){return{users:[]}},components:{},created(){this.fetchUsers()},methods:{goUser(e){this.$router.push({name:"send",params:{username:e}})},async fetchUsers(){const e=(0,h.ad)(),t=(0,h.hJ)(e,"users");let s=await(0,h.PL)(t);s.forEach((e=>{this.users.push(e.data())}))}}},g=v,b=(0,c.Z)(g,p,f,!1,null,null,null),w=b.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"send"},[s("div",{staticClass:"frame"},[e._m(0),s("div",{staticClass:"header"},[s("div",{staticClass:"align"}),s("div",{staticClass:"user"},[s("div",{staticClass:"photo"},[s("img",{attrs:{src:e.currenUser.photo}})]),s("span",{staticClass:"name"},[e._v(e._s(e.currenUser.name))])]),s("div",{staticClass:"themes"})]),s("div",{staticClass:"wrap-input"},[s("contenteditable",{staticClass:"input",attrs:{tag:"p",contenteditable:!0,noNL:!0,noHTML:!0},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("button",{staticClass:"button-send",on:{click:e.send}},[e._v("Enviar")])],1),e._m(1)])])},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border"},[s("div",{staticClass:"top"}),s("div",{staticClass:"bottom"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"footer"},[s("div",{staticClass:"fonts"},[s("span",{staticClass:"font active"},[e._v("Aa")]),s("span",{staticClass:"font"},[e._v("Aa")]),s("span",{staticClass:"font"},[e._v("Aa")])])])}],y=s(6690);a.Z.use(y.Z);var U={name:"SendView",data(){return{message:"",currenUserRef:"",currenUser:""}},created(){this.fetchUser()},beforeRouteEnter(e,t,s){e.params.username?s():s("/")},components:{},methods:{async fetchUser(){const e=(0,h.ad)(),t=(0,h.hJ)(e,"users"),s=(0,h.IO)(t,(0,h.ar)("username","==",this.$route.params.username)),a=await(0,h.PL)(s);a.forEach((e=>{this.currenUserRef=e.id,this.currenUser=e.data()}))},clearData(){this.message=""},async send(){const e=(0,h.ad)(),t=(0,h.JU)(e,"users",this.currenUserRef);await(0,h.r7)(t,{messages:(0,h.vr)({text:this.message,emoji:"oioi"})}),this.clearData()}}},j=U,E=(0,c.Z)(j,C,_,!1,null,null,null),k=E.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cadastro"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),s("input",{ref:"photo",attrs:{type:"file",accept:"image/*"},on:{change:e.previewImage}}),s("img",{staticClass:"preview",attrs:{height:"268",width:"356",src:e.preview}}),s("button",{on:{click:e.onUpload}},[e._v("cadastrar")])])},x=[],O=s(3597),$={data(){return{imageData:"",preview:"",user:{name:"",email:"",photo:"",messages:[]}}},name:"CadastroView",components:{},methods:{previewImage(e){this.imageData=e.target.files[0],this.preview=URL.createObjectURL(this.imageData)},onUpload(){const e=(0,O.cF)(),t=(0,O.iH)(e,`photos/${this.imageData.name}`),s=(0,O.B0)(t,this.imageData);s.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{}),(()=>{(0,O.Jt)(s.snapshot.ref).then((e=>{this.user.photo=e,this.submit()}))}))},async submit(){const e=(0,h.ad)();let t=this.user.email.match(/^([^@]*)@/)[1];try{const s=await(0,h.ET)((0,h.hJ)(e,"users"),{username:t.replace(/\./g,""),email:this.user.email,name:this.user.name,messages:this.user.messages,photo:this.user.photo});console.log("Document written with ID: ",s.id)}catch(s){console.error("Error adding document: ",s)}}}},D=$,I=(0,c.Z)(D,Z,x,!1,null,null,null),N=I.exports;a.Z.use(d.Z);const L=[{path:"/",name:"home",component:w},{path:"/send/:username?",name:"send",component:k},{path:"/register",name:"register",component:N}],P=new d.Z({mode:"hash",base:"/",routes:L});var T=P,A=s(4665);a.Z.use(A.ZP);var R=new A.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),B=s(9017);const F={apiKey:"AIzaSyC2jBTWYWFCNmKiKfUWlVaNHmVQ2DITBf0",authDomain:"sfpj2022.firebaseapp.com",projectId:"sfpj2022",databaseURL:"https://sfpj2022-default-rtdb.firebaseio.com",storageBucket:"sfpj2022.appspot.com",messagingSenderId:"1002184773880",appId:"1:1002184773880:web:b56714f1ebabd62ac0eb0d",measurementId:"G-4EVLM9JQQ1"};(0,B.ZF)(F);a.Z.config.productionTip=!1,new a.Z({router:T,store:R,render:e=>e(l)}).$mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,n){if(!a){var o=1/0;for(l=0;l<e.length;l++){a=e[l][0],r=e[l][1],n=e[l][2];for(var i=!0,c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[c])}))?a.splice(c--,1):(i=!1,n<o&&(o=n));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,o=a[0],i=a[1],c=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(c)var l=c(s)}for(t&&t(a);u<o.length;u++)n=o[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(l)},a=self["webpackChunksfpj"]=self["webpackChunksfpj"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9300)}));a=s.O(a)})();
//# sourceMappingURL=app.4b462e58.js.map