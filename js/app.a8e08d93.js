(function(){"use strict";var e={5242:function(e,t,s){var a=s(8935),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{openMenu:e.isActive},attrs:{id:"app"}},[s("div",{staticClass:"main-header",on:{click:e.openMenu}},[s("div",{staticClass:"logo"})]),s("div",{ref:"nav",staticClass:"nav"},[s("div",{staticClass:"list"},[s("router-link",{attrs:{to:"/"}},[e._v("Home")]),s("router-link",{attrs:{to:"/auth"}},[e._v("Minhas mensagens")]),s("router-link",{attrs:{to:"/agenda"}},[e._v("Programação")]),e.onAuth?s("a",{staticClass:"sair",on:{click:e.sair}},[e._v("Sair")]):e._e()],1),s("div",{staticClass:"text"})]),s("div",{ref:"view",staticClass:"view",on:{click:e.closeMenu}},[s("router-view")],1)])},o=[],i=s(1130);a.Z.use(i.Z);var r={name:"app",data(){return{isActive:!1}},computed:{onAuth(){return this.$cookies.get("user")}},components:{},created(){},methods:{sair(){this.$cookies.remove("user"),this.$router.push({name:"home"})},openMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1}}},l=r,c=s(1001),u=(0,c.Z)(l,n,o,!1,null,null,null),d=u.exports,h=s(563);(0,h.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var m=s(2809),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users"},[s("div",{staticClass:"list"},e._l(e.users,(function(t){return s("div",{staticClass:"user",on:{click:function(s){return e.goUser(t.username)}}},[s("img",{staticClass:"photo",attrs:{src:t.photo}}),s("span",{staticClass:"name"},[e._v(e._s(t.name))])])})),0)])},g=[],f=s(6926),v={name:"HomeView",data(){return{users:[]}},components:{},mounted(){this.$root.$el.classList.remove("openMenu")},created(){this.fetchUsers()},methods:{goUser(e){this.$router.push({name:"send",params:{username:e}})},async fetchUsers(){const e=(0,f.ad)(),t=(0,f.hJ)(e,"users");let s=await(0,f.PL)(t);s.forEach((e=>{"sfpj"!=e.data().username&&this.users.push(e.data())}))}}},b=v,C=(0,c.Z)(b,p,g,!1,null,null,null),w=C.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"send"},[s("div",{staticClass:"frame",class:"theme-"+e.tools.theme},[e._m(0),s("div",{staticClass:"header"},[s("div",{staticClass:"align",class:e.tools.align,on:{click:e.alignText}}),s("div",{staticClass:"user"},[s("div",{staticClass:"photo"},[s("img",{attrs:{src:e.currenUser.photo}})]),s("span",{staticClass:"name"},[e._v(e._s(e.currenUser.name))])]),s("div",{staticClass:"themes",on:{click:e.changeThemes}})]),s("div",{staticClass:"wrap-input",class:["align-"+e.tools.align,"font-"+e.tools.font]},[s("textarea-autosize",{staticClass:"input-text",attrs:{placeholder:"Deixe sua mensagem..."},nativeOn:{blur:function(t){return e.blurInput.apply(null,arguments)},focus:function(t){return e.focusInput.apply(null,arguments)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("div",{staticClass:"buttons"},[s("span",{staticClass:"description"},[e._v("Envie um elogio, um carinho ou uma piada")]),s("button",{staticClass:"button-send",class:[e.loading?"loading":"",e.message.length>=5?"":"disable"],on:{click:e.send}})])],1),s("div",{staticClass:"fonts"},e._l(e.fonts,(function(t){return s("div",{staticClass:"font"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tools.font,expression:"tools.font"}],attrs:{type:"radio",name:"font"},domProps:{value:t.font,checked:e._q(e.tools.font,t.font)},on:{change:function(s){return e.$set(e.tools,"font",t.font)}}}),s("div",{staticClass:"icon",class:"font-"+t.font},[s("span",[e._v(e._s(t.text))])])])})),0)])])},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border"},[s("div",{staticClass:"top"}),s("div",{staticClass:"bottom"})])}],k=s(9531),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._g({ref:"editable",staticClass:"input-text",attrs:{"data-placeholder":e.placeholder,contenteditable:""},on:{click:function(t){return e.document.execCommand("bold",!1)},focus:function(t){return t.stopPropagation(),e.focusInput.apply(null,arguments)},blur:function(t){return t.stopPropagation(),e.blurInput.apply(null,arguments)}}},e.listeners))},$=[],E={name:"InputText",props:{placeholder:{type:String},value:{type:String,default:""}},data(){return{}},computed:{listeners(){return{...this.$listeners,input:this.onInput}}},mounted(){this.$refs.editable.innerText=this.value},components:{},methods:{onInput(e){this.$emit("input",e.target.innerText)},focusInput(){this.$root.$el.classList.add("overlay")},blurInput(){this.$root.$el.classList.remove("overlay")}}},I=E,U=(0,c.Z)(I,x,$,!1,null,null,null),Z=U.exports,A=s(6690);a.Z.use(k.Z),a.Z.use(A.Z);var j={name:"SendView",data(){return{fonts:[{text:"Aa",font:"teko"},{text:"Aa",font:"zen"},{text:"Aa",font:"zilla"}],tools:{align:"left",font:"teko",theme:"yellow"},loading:!1,hteste:0,message:"",currenUserRef:"",currenUser:""}},components:{InputText:Z},created(){this.fetchUser()},mounted(){this.$root.$el.classList.remove("openMenu")},beforeRouteEnter(e,t,s){e.params.username?s():s("/")},methods:{alignText(){switch(this.tools.align){case"left":this.tools.align="center";break;case"center":this.tools.align="right";break;default:this.tools.align="left"}},changeThemes(){switch(this.tools.theme){case"red":this.tools.theme="blue";break;case"blue":this.tools.theme="green";break;case"green":this.tools.theme="yellow";break;case"yellow":this.tools.theme="greenlight";break;default:this.tools.theme="red"}},focusInput(){this.$root.$el.classList.add("overlay")},blurInput(){this.$root.$el.classList.remove("overlay")},onInput(e){this.message="",this.message=e.target.innerText},async fetchUser(){const e=(0,f.ad)(),t=(0,f.hJ)(e,"users"),s=(0,f.IO)(t,(0,f.ar)("username","==",this.$route.params.username)),a=await(0,f.PL)(s);a.forEach((e=>{this.currenUserRef=e.id,this.currenUser=e.data()}))},clearData(){this.message=""},async send(){this.loading=!0;const e=(0,f.ad)(),t=(0,f.JU)(e,"users",this.currenUserRef);await(0,f.r7)(t,{messages:(0,f.vr)({text:this.message,configs:this.tools})}),this.loading=!1,this.clearData()}}},M=j,F=(0,c.Z)(M,y,_,!1,null,null,null),L=F.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),s("input",{ref:"photo",attrs:{type:"file",accept:"image/*"},on:{change:e.previewImage}}),s("img",{staticClass:"preview",attrs:{src:e.preview}}),s("button",{staticClass:"btn-send",class:e.loading?"loading":"",on:{click:e.onUpload}},[e._v(e._s(e.loading?"Salvando":"Cadastrar"))]),s("canvas",{staticClass:"qrCode",attrs:{id:"canvas",width:"500",height:"500"}})])},T=[],O=s(3597),B=s(8733),S={data(){return{imageData:"",preview:"",loading:!1,user:{name:"",email:"",photo:"",messages:[]}}},name:"CadastroView",components:{},mounted(){this.$root.$el.classList.remove("openMenu")},methods:{async creatQrcode(e){let t=document.getElementById("canvas"),s={type:"image/jpg",scale:22,margin:1};B.toCanvas(t,"https://sfpj2022.github.io/#/send/"+e,s,(function(e){e&&console.error(e),console.log("success!")})),t.toBlob((t=>{let s=new File([t],e+".jpg",{type:"image/jpeg"});const a=(0,O.cF)(),n=(0,O.iH)(a,`qrcodes/${s.name}`),o=(0,O.B0)(n,s);o.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{}),(()=>{(0,O.Jt)(o.snapshot.ref).then((e=>{console.log("File available at",e)}))}))}),"image/jpeg")},previewImage(e){this.imageData=e.target.files[0],this.preview=URL.createObjectURL(this.imageData)},onUpload(){this.loading=!0;const e=(0,O.cF)(),t=(0,O.iH)(e,`photos/${this.imageData.name}`),s=(0,O.B0)(t,this.imageData);s.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{}),(()=>{(0,O.Jt)(s.snapshot.ref).then((e=>{this.user.photo=e,this.submit()}))}))},clearInput(){this.$refs.photo.value="",this.imageData="",this.preview="",this.user={name:"",email:"",photo:"",messages:[]}},async submit(){const e=(0,f.ad)();let t=this.user.email.match(/^([^@]*)@/)[1];try{const s=await(0,f.ET)((0,f.hJ)(e,"users"),{username:t.replace(/\./g,""),email:this.user.email,name:this.user.name,messages:this.user.messages,photo:this.user.photo});await this.creatQrcode(t.replace(/\./g,"")),this.loading=!1,this.clearInput(),console.log("Document written with ID: ",s.id)}catch(s){console.error("Error adding document: ",s)}}}},N=S,P=(0,c.Z)(N,D,T,!1,null,null,null),J=P.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth"},[s("div",{staticClass:"header-auth"},[s("img",{staticClass:"photo",attrs:{src:e.user.photo}}),s("span",{staticClass:"title"},[e._v(e._s(e.isAuth?e.user.name:"Minhas mensagens"))])]),s("div",{staticClass:"wrap"},[e.isAuth?s("div",{staticClass:"on-auth"},[s("div",{staticClass:"wrap-input"},[s("textarea-autosize",{staticClass:"input-text",attrs:{placeholder:"O que você esta achando do evento..."},nativeOn:{blur:function(t){return e.blurInput.apply(null,arguments)},focus:function(t){return e.focusInput.apply(null,arguments)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("div",{staticClass:"buttons"},[s("span",{staticClass:"description"},[e._v("Envie um elogio, um carinho ou uma piada")]),s("button",{staticClass:"button-send",class:[e.loadingSend?"loading":"",e.message.length>=5?"":"disable"],on:{click:e.send}})])],1),s("div",{staticClass:"list"},[e.isMessage?s("span",{staticClass:"notfound"},[e._v("Você ainda não tem mensagens")]):e._l(e.user.messages,(function(t){return s("div",{staticClass:"message",class:["theme-"+t.configs.theme,"align-"+t.configs.align,"font-"+t.configs.font]},[e._m(0,!0),s("div",{staticClass:"text"},[e._v(e._s(t.text))])])}))],2)]):s("div",{staticClass:"no-auth"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{placeholder:"email picpay",autofocus:""},domProps:{value:e.email},on:{keyup:e.changeInput,input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.isErr?s("div",{staticClass:"feedback"},[s("p",[e._v(e._s(e.feedback))])]):e._e(),s("button",{staticClass:"button-submit",class:[e.email.length>=4?"":"disable",e.loading?"loading":""],on:{click:e.auth}},[e._v(e._s(e.loading?"Entrando":"Entrar"))])])])])},R=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"borders"},[s("div",{staticClass:"top"}),s("div",{staticClass:"bottom"})])}],V=s(329);a.Z.use(k.Z);var H={name:"HomeView",data(){return{isErr:!1,message:"",currentAllUser:"Nd8gpWnusF4i6cv2fIja",loadingSend:!1,loading:!1,email:"",tools:{align:"left",font:"teko",theme:"yellow"},feedback:"Não encontramos seu usuário :/",isAuth:!1,user:{}}},computed:{isMessage(){return!this.user.messages||!this.user.messages.length}},async beforeRouteEnter(e,t,s){V.Z.get("user")?s((e=>{e.fetchAuth(V.Z.get("user")),e.isAuth=!0})):s((e=>{e.isAuth=!1}))},mounted(){this.$root.$el.classList.remove("openMenu")},methods:{focusInput(){this.$root.$el.classList.add("overlay")},blurInput(){this.$root.$el.classList.remove("overlay")},async fetchAuth(e){const t=(0,f.ad)(),s=await(0,f.QT)((0,f.JU)(t,"users",e));s.exists()?(this.user=s.data(),this.isAuth=!0):(this.isErr=!0,console.log("No such document"))},setUserDetails(e){console.log(e)},changeInput(){console.log("ás"),this.isErr=!1},clearData(){this.message=""},async send(){this.loadingSend=!0;const e=(0,f.ad)(),t=(0,f.JU)(e,"users",this.currentAllUser);await(0,f.r7)(t,{messages:(0,f.vr)({text:this.message,configs:this.tools})}),this.loadingSend=!1,this.clearData()},async auth(){this.loading=!0;const e=(0,f.ad)(),t=(0,f.hJ)(e,"users"),s=(0,f.IO)(t,(0,f.ar)("email","==",this.email));let a=await(0,f.PL)(s);a.empty?(this.isErr=!0,this.loading=!1,console.log("deu não")):(a.forEach((e=>{V.Z.set("user",e.id)})),this.fetchAuth(V.Z.get("user")),this.loading=!1)}}},Q=H,q=(0,c.Z)(Q,z,R,!1,null,null,null),W=q.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},G=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"words"},[s("canvas",{attrs:{id:"my_canvas",width:"1920",height:"1080"}})])}],Y=s(8373),X=s.n(Y),ee={name:"HomeView",data(){return{currentAllUser:"Nd8gpWnusF4i6cv2fIja",messages:[],teste:"",colors:["#E5ECFF","#24BD85","#FFE5B2","#D4FFB2","#FF8E8E"],sizes:[4,5,6]}},components:{},created(){this.fetchMessages()},mounted(){},methods:{async renderList(e){this.messages=[],await e.messages.forEach(((e,t)=>{const s=Math.floor(Math.random()*this.sizes.length);let a=[e.text,this.sizes[s]];this.messages.push(a)})),X()(document.getElementById("my_canvas"),{list:this.messages,gridSize:Math.round(16*document.getElementById("my_canvas").width/1024),weightFactor:function(e){return Math.pow(e,2.3)*document.getElementById("my_canvas").width/1024},fontFamily:"ff-teko",color:(e,t)=>{const s=Math.floor(Math.random()*this.colors.length);return this.colors[s]},rotateRatio:.5,rotationSteps:2,backgroundColor:"#000"})},async fetchMessages(){const e=(0,f.ad)();(0,f.cf)((0,f.JU)(e,"users",this.currentAllUser),(e=>{this.renderList(e.data())}))}}},te=ee,se=(0,c.Z)(te,K,G,!1,null,null,null),ae=se.exports;a.Z.use(m.Z);const ne=[{path:"/",name:"home",component:w},{path:"/send/:username?",name:"send",component:L},{path:"/register",name:"register",component:J},{path:"/auth",name:"auth",component:W},{path:"/words",name:"words",component:ae}],oe=new m.Z({mode:"hash",base:"/",routes:ne});var ie=oe,re=s(4665);a.Z.use(re.ZP);var le=new re.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),ce=s(9017);const ue={apiKey:"AIzaSyC2jBTWYWFCNmKiKfUWlVaNHmVQ2DITBf0",authDomain:"sfpj2022.firebaseapp.com",projectId:"sfpj2022",databaseURL:"https://sfpj2022-default-rtdb.firebaseio.com",storageBucket:"sfpj2022.appspot.com",messagingSenderId:"1002184773880",appId:"1:1002184773880:web:b56714f1ebabd62ac0eb0d",measurementId:"G-4EVLM9JQQ1"};(0,ce.ZF)(ue);a.Z.config.productionTip=!1,new a.Z({router:ie,store:le,render:e=>e(d)}).$mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],o=e[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var u=l(s)}for(t&&t(a);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},a=self["webpackChunksfpj"]=self["webpackChunksfpj"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5242)}));a=s.O(a)})();
//# sourceMappingURL=app.a8e08d93.js.map