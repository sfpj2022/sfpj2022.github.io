(function(){"use strict";var e={4079:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var s=n(8935),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{openMenu:e.isActive},attrs:{id:"app"}},[n("div",{staticClass:"main-header",on:{click:e.openMenu}},[n("div",{staticClass:"logo"})]),n("div",{ref:"nav",staticClass:"nav"},[n("div",{staticClass:"list"},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),n("router-link",{attrs:{to:"/auth"}},[e._v("Minhas mensagens")]),n("router-link",{attrs:{to:"/agenda"}},[e._v("Programação")]),e.onAuth?n("a",{staticClass:"sair",on:{click:e.sair}},[e._v("Sair")]):e._e()],1),n("div",{staticClass:"text"})]),n("div",{ref:"view",staticClass:"view",on:{click:e.closeMenu}},[n("router-view")],1)])},o=[],r=n(329),i={name:"app",data:function(){return{isActive:!1}},computed:{onAuth:function(){return r.Z.get("user")}},components:{},created:function(){},methods:{sair:function(){r.Z.remove("user"),this.$router.push({name:"home"})},openMenu:function(){this.isActive=!this.isActive},closeMenu:function(){this.isActive=!1}}},c=i,u=n(1001),l=(0,u.Z)(c,a,o,!1,null,null,null),d=l.exports,f=n(563);(0,f.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var m=n(2809),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"users"},[n("div",{staticClass:"list"},e._l(e.users,(function(t){return n("div",{staticClass:"user",on:{click:function(n){return e.goUser(t.username)}}},[n("img",{staticClass:"photo",attrs:{src:t.photo}}),n("span",{staticClass:"name"},[e._v(e._s(t.name))])])})),0)])},h=[],v=n(7906),g=n(6198),w=(n(1539),n(4747),n(494)),b={name:"HomeView",data:function(){return{users:[]}},components:{},mounted:function(){this.$root.$el.classList.remove("openMenu")},created:function(){this.fetchUsers()},methods:{goUser:function(e){this.$router.push({name:"send",params:{username:e}})},fetchUsers:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n,s,a;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,w.ad)(),s=(0,w.hJ)(n,"users"),t.next=4,(0,w.PL)(s);case 4:a=t.sent,a.forEach((function(t){e.users.push(t.data())}));case 6:case"end":return t.stop()}}),t)})))()}}},C=b,x=(0,u.Z)(C,p,h,!1,null,null,null),Z=x.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"send"},[n("div",{staticClass:"frame",class:"theme-"+e.tools.theme},[e._m(0),n("div",{staticClass:"header"},[n("div",{staticClass:"align",class:e.tools.align,on:{click:e.alignText}}),n("div",{staticClass:"user"},[n("div",{staticClass:"photo"},[n("img",{attrs:{src:e.currenUser.photo}})]),n("span",{staticClass:"name"},[e._v(e._s(e.currenUser.name))])]),n("div",{staticClass:"themes",on:{click:e.changeThemes}})]),n("div",{staticClass:"wrap-input",class:["align-"+e.tools.align,"font-"+e.tools.font]},[n("textarea-autosize",{staticClass:"input-text",attrs:{placeholder:"Deixe sua mensagem..."},nativeOn:{blur:function(t){return e.blurInput.apply(null,arguments)},focus:function(t){return e.focusInput.apply(null,arguments)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("div",{staticClass:"buttons"},[n("span",{staticClass:"description"},[e._v("Envie um elogio, um carinho ou uma piada")]),n("button",{staticClass:"button-send",class:[e.loading?"loading":"",e.message.length>=5?"":"disable"],on:{click:e.send}})])],1),n("div",{staticClass:"fonts"},e._l(e.fonts,(function(t){return n("div",{staticClass:"font"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.tools.font,expression:"tools.font"}],attrs:{type:"radio",name:"font"},domProps:{value:t.font,checked:e._q(e.tools.font,t.font)},on:{change:function(n){return e.$set(e.tools,"font",t.font)}}}),n("div",{staticClass:"icon",class:"font-"+t.font},[n("span",[e._v(e._s(t.text))])])])})),0)])])},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border"},[n("div",{staticClass:"top"}),n("div",{staticClass:"bottom"})])}],y=n(9531),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g({ref:"editable",staticClass:"input-text",attrs:{"data-placeholder":e.placeholder,contenteditable:""},on:{click:function(t){return e.document.execCommand("bold",!1)},focus:function(t){return t.stopPropagation(),e.focusInput.apply(null,arguments)},blur:function(t){return t.stopPropagation(),e.blurInput.apply(null,arguments)}}},e.listeners))},E=[],I=n(4367),U={name:"InputText",props:{placeholder:{type:String},value:{type:String,default:""}},data:function(){return{}},computed:{listeners:function(){return(0,I.Z)((0,I.Z)({},this.$listeners),{},{input:this.onInput})}},mounted:function(){this.$refs.editable.innerText=this.value},components:{},methods:{onInput:function(e){this.$emit("input",e.target.innerText)},focusInput:function(){this.$root.$el.classList.add("overlay")},blurInput:function(){this.$root.$el.classList.remove("overlay")}}},A=U,j=(0,u.Z)(A,$,E,!1,null,null,null),M=j.exports,F=n(6690);s.Z.use(y.Z),s.Z.use(F.Z);var L={name:"SendView",data:function(){return{fonts:[{text:"Aa",font:"teko"},{text:"Aa",font:"zen"},{text:"Aa",font:"zilla"}],tools:{align:"left",font:"teko",theme:"yellow"},loading:!1,hteste:0,message:"",currenUserRef:"",currenUser:""}},components:{InputText:M},created:function(){this.fetchUser()},mounted:function(){this.$root.$el.classList.remove("openMenu")},beforeRouteEnter:function(e,t,n){e.params.username?n():n("/")},methods:{alignText:function(){switch(this.tools.align){case"left":this.tools.align="center";break;case"center":this.tools.align="right";break;default:this.tools.align="left"}},changeThemes:function(){switch(this.tools.theme){case"red":this.tools.theme="blue";break;case"blue":this.tools.theme="green";break;case"green":this.tools.theme="yellow";break;case"yellow":this.tools.theme="greenlight";break;default:this.tools.theme="red"}},focusInput:function(){this.$root.$el.classList.add("overlay")},blurInput:function(){this.$root.$el.classList.remove("overlay")},onInput:function(e){this.message="",this.message=e.target.innerText},fetchUser:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n,s,a,o;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,w.ad)(),s=(0,w.hJ)(n,"users"),a=(0,w.IO)(s,(0,w.ar)("username","==",e.$route.params.username)),t.next=5,(0,w.PL)(a);case 5:o=t.sent,o.forEach((function(t){e.currenUserRef=t.id,e.currenUser=t.data()}));case 7:case"end":return t.stop()}}),t)})))()},clearData:function(){this.message=""},send:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n,s;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=(0,w.ad)(),s=(0,w.JU)(n,"users",e.currenUserRef),t.next=5,(0,w.r7)(s,{messages:(0,w.vr)({text:e.message,configs:e.tools})});case 5:e.loading=!1,e.clearData();case 7:case"end":return t.stop()}}),t)})))()}}},D=L,T=(0,u.Z)(D,_,k,!1,null,null,null),O=T.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),n("input",{ref:"photo",attrs:{type:"file",accept:"image/*"},on:{change:e.previewImage}}),n("img",{staticClass:"preview",attrs:{src:e.preview}}),n("button",{staticClass:"btn-send",class:e.loading?"loading":"",on:{click:e.onUpload}},[e._v(e._s(e.loading?"Salvando":"Cadastrar"))]),n("canvas",{staticClass:"qrCode",attrs:{id:"canvas",width:"500",height:"500"}})])},S=[],N=(n(8309),n(8783),n(3948),n(285),n(1637),n(4916),n(4723),n(5306),n(3597)),P=n(8733),J={data:function(){return{imageData:"",preview:"",loading:!1,user:{name:"",email:"",photo:"",messages:[]}}},name:"CadastroView",components:{},mounted:function(){this.$root.$el.classList.remove("openMenu")},methods:{creatQrcode:function(e){return(0,g.Z)((0,v.Z)().mark((function t(){var n,s;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.getElementById("canvas"),s={type:"image/jpg",scale:22,margin:1},P.toCanvas(n,"https://sfpj2022.github.io/#/send/"+e,s,(function(e){e&&console.error(e),console.log("success!")})),n.toBlob((function(t){var n=new File([t],e+".jpg",{type:"image/jpeg"}),s=(0,N.cF)(),a=(0,N.iH)(s,"qrcodes/".concat(n.name)),o=(0,N.B0)(a,n);o.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){}),(function(){(0,N.Jt)(o.snapshot.ref).then((function(e){console.log("File available at",e)}))}))}),"image/jpeg");case 4:case"end":return t.stop()}}),t)})))()},previewImage:function(e){this.imageData=e.target.files[0],this.preview=URL.createObjectURL(this.imageData)},onUpload:function(){var e=this;this.loading=!0;var t=(0,N.cF)(),n=(0,N.iH)(t,"photos/".concat(this.imageData.name)),s=(0,N.B0)(n,this.imageData);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){}),(function(){(0,N.Jt)(s.snapshot.ref).then((function(t){e.user.photo=t,e.submit()}))}))},clearInput:function(){this.$refs.photo.value="",this.imageData="",this.preview="",this.user={name:"",email:"",photo:"",messages:[]}},submit:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n,s,a;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,w.ad)(),s=e.user.email.match(/^([^@]*)@/)[1],t.prev=2,t.next=5,(0,w.ET)((0,w.hJ)(n,"users"),{username:s.replace(/\./g,""),email:e.user.email,name:e.user.name,messages:e.user.messages,photo:e.user.photo});case 5:return a=t.sent,t.next=8,e.creatQrcode(s.replace(/\./g,""));case 8:e.loading=!1,e.clearInput(),console.log("Document written with ID: ",a.id),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),console.error("Error adding document: ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})))()}}},z=J,R=(0,u.Z)(z,B,S,!1,null,null,null),V=R.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth"},[n("div",{staticClass:"header-auth"},[n("img",{staticClass:"photo",attrs:{src:e.user.photo}}),n("span",{staticClass:"title"},[e._v(e._s(e.isAuth?e.user.name:"Minhas mensagens"))])]),n("div",{staticClass:"wrap"},[e.isAuth?n("div",{staticClass:"on-auth"},[n("div",{staticClass:"wrap-input"},[n("textarea-autosize",{staticClass:"input-text",attrs:{placeholder:"O que você esta achando do evento..."},nativeOn:{blur:function(t){return e.blurInput.apply(null,arguments)},focus:function(t){return e.focusInput.apply(null,arguments)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("div",{staticClass:"buttons"},[n("span",{staticClass:"description"},[e._v("Envie um elogio, um carinho ou uma piada")]),n("button",{staticClass:"button-send",class:[e.loadingSend?"loading":"",e.message.length>=5?"":"disable"],on:{click:e.send}})])],1),n("div",{staticClass:"list"},[e.isMessage?n("span",{staticClass:"notfound"},[e._v("Você ainda não tem mensagens")]):e._l(e.user.messages,(function(t){return n("div",{staticClass:"message",class:["theme-"+t.configs.theme,"align-"+t.configs.align,"font-"+t.configs.font]},[e._m(0,!0),n("div",{staticClass:"text"},[e._v(e._s(t.text))])])}))],2)]):n("div",{staticClass:"no-auth"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{placeholder:"email picpay",autofocus:""},domProps:{value:e.email},on:{keyup:e.changeInput,input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.isErr?n("div",{staticClass:"feedback"},[n("p",[e._v(e._s(e.feedback))])]):e._e(),n("button",{staticClass:"button-submit",class:[e.email.length>=4?"":"disable",e.loading?"loading":""],on:{click:e.auth}},[e._v(e._s(e.loading?"Entrando":"Entrar"))])])])])},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"borders"},[n("div",{staticClass:"top"}),n("div",{staticClass:"bottom"})])}];s.Z.use(y.Z);var q={name:"HomeView",data:function(){return{isErr:!1,message:"",currentAllUser:"Nd8gpWnusF4i6cv2fIja",loadingSend:!1,loading:!1,email:"",tools:{align:"left",font:"teko",theme:"yellow"},feedback:"Não encontramos seu usuário :/",isAuth:!1,user:{}}},computed:{isMessage:function(){return!this.user.messages||!this.user.messages.length}},beforeRouteEnter:function(e,t,n){return(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.Z.get("user")?n((function(e){e.fetchAuth(r.Z.get("user")),e.isAuth=!0})):n((function(e){e.isAuth=!1}));case 1:case"end":return e.stop()}}),e)})))()},mounted:function(){this.$root.$el.classList.remove("openMenu")},methods:{focusInput:function(){this.$root.$el.classList.add("overlay")},blurInput:function(){this.$root.$el.classList.remove("overlay")},fetchAuth:function(e){var t=this;return(0,g.Z)((0,v.Z)().mark((function n(){var s,a;return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=(0,w.ad)(),n.next=3,(0,w.QT)((0,w.JU)(s,"users",e));case 3:a=n.sent,a.exists()?(t.user=a.data(),t.isAuth=!0):(t.isErr=!0,console.log("No such document"));case 5:case"end":return n.stop()}}),n)})))()},setUserDetails:function(e){console.log(e)},changeInput:function(){console.log("ás"),this.isErr=!1},clearData:function(){this.message=""},send:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n,s;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingSend=!0,n=(0,w.ad)(),s=(0,w.JU)(n,"users",e.currentAllUser),t.next=5,(0,w.r7)(s,{messages:(0,w.vr)({text:e.message,configs:e.tools})});case 5:e.loadingSend=!1,e.clearData();case 7:case"end":return t.stop()}}),t)})))()},auth:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n,s,a,o;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=(0,w.ad)(),s=(0,w.hJ)(n,"users"),a=(0,w.IO)(s,(0,w.ar)("email","==",e.email)),t.next=6,(0,w.PL)(a);case 6:o=t.sent,o.empty?(e.isErr=!0,e.loading=!1,console.log("deu não")):(o.forEach((function(e){r.Z.set("user",e.id)})),e.fetchAuth(r.Z.get("user")),e.loading=!1);case 8:case"end":return t.stop()}}),t)})))()}}},W=q,K=(0,u.Z)(W,H,Q,!1,null,null,null),G=K.exports,Y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},X=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"words"},[n("canvas",{attrs:{id:"my_canvas",width:"1920",height:"1080"}})])}],ee=n(8373),te=n.n(ee),ne={name:"HomeView",data:function(){return{currentAllUser:"Nd8gpWnusF4i6cv2fIja",messages:[],teste:"",colors:["#E5ECFF","#24BD85","#FFE5B2","#D4FFB2","#FF8E8E"],sizes:[4,6,8]}},components:{},created:function(){this.fetchMessages()},mounted:function(){},methods:{renderList:function(e){var t=this;return(0,g.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.messages=[],n.next=3,e.messages.forEach((function(e,n){var s=Math.floor(Math.random()*t.sizes.length),a=[e.text,t.sizes[s]];t.messages.push(a)}));case 3:te()(document.getElementById("my_canvas"),{list:t.messages,gridSize:Math.round(16*document.getElementById("my_canvas").width/1024),weightFactor:function(e){return Math.pow(e,2.3)*document.getElementById("my_canvas").width/1024},fontFamily:"ff-teko",color:function(e,n){var s=Math.floor(Math.random()*t.colors.length);return t.colors[s]},rotateRatio:.5,rotationSteps:2,backgroundColor:"#000"});case 4:case"end":return n.stop()}}),n)})))()},fetchMessages:function(){var e=this;return(0,g.Z)((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=(0,w.ad)(),(0,w.cf)((0,w.JU)(n,"users",e.currentAllUser),(function(t){e.renderList(t.data())}));case 2:case"end":return t.stop()}}),t)})))()}}},se=ne,ae=(0,u.Z)(se,Y,X,!1,null,null,null),oe=ae.exports;s.Z.use(m.Z);var re=[{path:"/",name:"home",component:Z},{path:"/send/:username?",name:"send",component:O},{path:"/register",name:"register",component:V},{path:"/auth",name:"auth",component:G},{path:"/words",name:"words",component:oe}],ie=new m.Z({mode:"hash",base:"/",routes:re}),ce=ie,ue=n(4665);s.Z.use(ue.ZP);var le=new ue.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),de=n(9017),fe={apiKey:"AIzaSyC2jBTWYWFCNmKiKfUWlVaNHmVQ2DITBf0",authDomain:"sfpj2022.firebaseapp.com",projectId:"sfpj2022",databaseURL:"https://sfpj2022-default-rtdb.firebaseio.com",storageBucket:"sfpj2022.appspot.com",messagingSenderId:"1002184773880",appId:"1:1002184773880:web:b56714f1ebabd62ac0eb0d",measurementId:"G-4EVLM9JQQ1"};(0,de.ZF)(fe);s.Z.config.productionTip=!1,new s.Z({router:ce,store:le,render:function(e){return e(d)}}).$mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,o){if(!s){var r=1/0;for(l=0;l<e.length;l++){s=e[l][0],a=e[l][1],o=e[l][2];for(var i=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[c])}))?s.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[s,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,r=s[0],i=s[1],c=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var l=c(n)}for(t&&t(s);u<r.length;u++)o=r[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},s=self["webpackChunksfpj"]=self["webpackChunksfpj"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4079)}));s=n.O(s)})();
//# sourceMappingURL=app-legacy.458b152a.js.map