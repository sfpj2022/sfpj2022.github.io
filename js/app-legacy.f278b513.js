(function(){"use strict";var e={9300:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(8935),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o={},i=o,c=n(1001),u=(0,c.Z)(i,s,a,!1,null,null,null),l=u.exports,f=n(563);(0,f.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var p=n(2809),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"users"},e._l(e.users,(function(t){return n("div",{staticClass:"user",on:{click:function(n){return e.goUser(t.username)}}},[n("span",[e._v(e._s(t.name))]),n("img",{attrs:{src:t.photo}})])})),0)},d=[],v=n(7906),h=n(6198),g=(n(1539),n(4747),n(494)),w={name:"HomeView",data:function(){return{users:[]}},components:{},created:function(){this.fetchUsers()},methods:{goUser:function(e){this.$router.push({name:"send",params:{username:e}})},fetchUsers:function(){var e=this;return(0,h.Z)((0,v.Z)().mark((function t(){var n,r,s;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,g.ad)(),r=(0,g.hJ)(n,"users"),t.next=4,(0,g.PL)(r);case 4:s=t.sent,s.forEach((function(t){e.users.push(t.data())}));case 6:case"end":return t.stop()}}),t)})))()}}},b=w,C=(0,c.Z)(b,m,d,!1,null,null,null),Z=C.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"send"},[n("div",{staticClass:"frame"},[e._m(0),n("div",{staticClass:"header"},[n("div",{staticClass:"align"}),n("div",{staticClass:"user"},[n("div",{staticClass:"photo"},[n("img",{attrs:{src:e.currenUser.photo}})]),n("span",{staticClass:"name"},[e._v(e._s(e.currenUser.name))])]),n("div",{staticClass:"themes"})]),n("div",{staticClass:"wrap-input"},[n("contenteditable",{staticClass:"input",attrs:{tag:"p",contenteditable:!0,noNL:!0,noHTML:!0},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("button",{staticClass:"button-send",on:{click:e.send}},[e._v("Enviar")])],1),e._m(1)])])},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border"},[n("div",{staticClass:"top"}),n("div",{staticClass:"bottom"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"fonts"},[n("span",{staticClass:"font active"},[e._v("Aa")]),n("span",{staticClass:"font"},[e._v("Aa")]),n("span",{staticClass:"font"},[e._v("Aa")])])])}],U=n(6690);r.Z.use(U.Z);var k={name:"SendView",data:function(){return{message:"",currenUserRef:"",currenUser:""}},created:function(){this.fetchUser()},beforeRouteEnter:function(e,t,n){e.params.username?n():n("/")},components:{},methods:{fetchUser:function(){var e=this;return(0,h.Z)((0,v.Z)().mark((function t(){var n,r,s,a;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,g.ad)(),r=(0,g.hJ)(n,"users"),s=(0,g.IO)(r,(0,g.ar)("username","==",e.$route.params.username)),t.next=5,(0,g.PL)(s);case 5:a=t.sent,a.forEach((function(t){e.currenUserRef=t.id,e.currenUser=t.data()}));case 7:case"end":return t.stop()}}),t)})))()},clearData:function(){this.message=""},send:function(){var e=this;return(0,h.Z)((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,g.ad)(),r=(0,g.JU)(n,"users",e.currenUserRef),t.next=4,(0,g.r7)(r,{messages:(0,g.vr)({text:e.message,emoji:"oioi"})});case 4:e.clearData();case 5:case"end":return t.stop()}}),t)})))()}}},j=k,y=(0,c.Z)(j,_,x,!1,null,null,null),E=y.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cadastro"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),n("input",{ref:"photo",attrs:{type:"file",accept:"image/*"},on:{change:e.previewImage}}),n("img",{staticClass:"preview",attrs:{height:"268",width:"356",src:e.preview}}),n("button",{on:{click:e.onUpload}},[e._v("cadastrar")])])},D=[],$=(n(8783),n(3948),n(285),n(1637),n(8309),n(4916),n(4723),n(5306),n(3597)),I={data:function(){return{imageData:"",preview:"",user:{name:"",email:"",photo:"",messages:[]}}},name:"CadastroView",components:{},methods:{previewImage:function(e){this.imageData=e.target.files[0],this.preview=URL.createObjectURL(this.imageData)},onUpload:function(){var e=this,t=(0,$.cF)(),n=(0,$.iH)(t,"photos/".concat(this.imageData.name)),r=(0,$.B0)(n,this.imageData);r.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){}),(function(){(0,$.Jt)(r.snapshot.ref).then((function(t){e.user.photo=t,e.submit()}))}))},submit:function(){var e=this;return(0,h.Z)((0,v.Z)().mark((function t(){var n,r,s;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,g.ad)(),r=e.user.email.match(/^([^@]*)@/)[1],t.prev=2,t.next=5,(0,g.ET)((0,g.hJ)(n,"users"),{username:r.replace(/\./g,""),email:e.user.email,name:e.user.name,messages:e.user.messages,photo:e.user.photo});case 5:s=t.sent,console.log("Document written with ID: ",s.id),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.error("Error adding document: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()}}},N=I,L=(0,c.Z)(N,O,D,!1,null,null,null),P=L.exports;r.Z.use(p.Z);var T=[{path:"/",name:"home",component:Z},{path:"/send/:username?",name:"send",component:E},{path:"/register",name:"register",component:P}],A=new p.Z({mode:"hash",base:"/",routes:T}),R=A,B=n(4665);r.Z.use(B.ZP);var F=new B.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),J=n(9017),V={apiKey:"AIzaSyC2jBTWYWFCNmKiKfUWlVaNHmVQ2DITBf0",authDomain:"sfpj2022.firebaseapp.com",projectId:"sfpj2022",databaseURL:"https://sfpj2022-default-rtdb.firebaseio.com",storageBucket:"sfpj2022.appspot.com",messagingSenderId:"1002184773880",appId:"1:1002184773880:web:b56714f1ebabd62ac0eb0d",measurementId:"G-4EVLM9JQQ1"};(0,J.ZF)(V);r.Z.config.productionTip=!1,new r.Z({router:R,store:F,render:function(e){return e(l)}}).$mount("#app")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,a){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],s=e[l][1],a=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(i=!1,a<o&&(o=a));if(i){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,o=r[0],i=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var l=c(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},r=self["webpackChunksfpj"]=self["webpackChunksfpj"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9300)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.f278b513.js.map