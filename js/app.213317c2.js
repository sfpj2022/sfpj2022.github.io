(function(){"use strict";var e={5726:function(e,t,s){var a=s(8935),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{openMenu:e.isActive},attrs:{id:"app"}},[s("div",{staticClass:"main-header",on:{click:e.openMenu}},[s("div",{staticClass:"logo"})]),s("div",{ref:"nav",staticClass:"nav"},[s("div",{staticClass:"list"},[s("router-link",{attrs:{to:"/"}},[e._v("Home")]),s("router-link",{attrs:{to:"/auth"}},[e._v("Minhas mensagens")]),s("router-link",{attrs:{to:"/agenda"}},[e._v("Programação")]),s("a",{staticClass:"sair",on:{click:e.sair}},[e._v("Sair")])],1),s("div",{staticClass:"text"})]),s("div",{ref:"view",staticClass:"view",on:{click:e.closeMenu}},[s("router-view")],1)])},o=[],r=s(329),i={name:"app",data(){return{isActive:!1}},components:{},created(){},methods:{sair(){r.Z.remove("user"),this.$router.push({name:"home"})},openMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1}}},l=i,c=s(1001),u=(0,c.Z)(l,n,o,!1,null,null,null),m=u.exports,h=s(563);(0,h.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=s(2809),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users"},[s("div",{staticClass:"list"},e._l(e.users,(function(t){return s("div",{staticClass:"user",on:{click:function(s){return e.goUser(t.username)}}},[s("img",{staticClass:"photo",attrs:{src:t.photo}}),s("span",{staticClass:"name"},[e._v(e._s(t.name))])])})),0)])},f=[],v=s(6926),g={name:"HomeView",data(){return{users:[]}},components:{},mounted(){this.$root.$el.classList.remove("openMenu")},created(){this.fetchUsers()},methods:{goUser(e){this.$router.push({name:"send",params:{username:e}})},async fetchUsers(){const e=(0,v.ad)(),t=(0,v.hJ)(e,"users");let s=await(0,v.PL)(t);s.forEach((e=>{this.users.push(e.data())}))}}},b=g,C=(0,c.Z)(b,p,f,!1,null,null,null),w=C.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"send"},[s("div",{staticClass:"frame",class:"theme-"+e.tools.theme},[e._m(0),s("div",{staticClass:"header"},[s("div",{staticClass:"align",class:e.tools.align,on:{click:e.alignText}}),s("div",{staticClass:"user"},[s("div",{staticClass:"photo"},[s("img",{attrs:{src:e.currenUser.photo}})]),s("span",{staticClass:"name"},[e._v(e._s(e.currenUser.name))])]),s("div",{staticClass:"themes",on:{click:e.changeThemes}})]),s("div",{staticClass:"wrap-input",class:["align-"+e.tools.align,"font-"+e.tools.font]},[s("textarea-autosize",{staticClass:"input-text",attrs:{placeholder:"Deixe sua mensagem..."},nativeOn:{blur:function(t){return e.blurInput.apply(null,arguments)},focus:function(t){return e.focusInput.apply(null,arguments)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("div",{staticClass:"buttons"},[s("span",{staticClass:"description"},[e._v("Envie um elogio, um carinho ou uma piada")]),s("button",{staticClass:"button-send",on:{click:e.send}})])],1),s("div",{staticClass:"fonts"},e._l(e.fonts,(function(t){return s("div",{staticClass:"font"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tools.font,expression:"tools.font"}],attrs:{type:"radio",name:"font"},domProps:{value:t.font,checked:e._q(e.tools.font,t.font)},on:{change:function(s){return e.$set(e.tools,"font",t.font)}}}),s("div",{staticClass:"icon",class:"font-"+t.font},[s("span",[e._v(e._s(t.text))])])])})),0)])])},y=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border"},[s("div",{staticClass:"top"}),s("div",{staticClass:"bottom"})])}],x=s(9531),$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._g({ref:"editable",staticClass:"input-text",attrs:{"data-placeholder":e.placeholder,contenteditable:""},on:{click:function(t){return e.document.execCommand("bold",!1)},focus:function(t){return t.stopPropagation(),e.focusInput.apply(null,arguments)},blur:function(t){return t.stopPropagation(),e.blurInput.apply(null,arguments)}}},e.listeners))},k=[],I={name:"InputText",props:{placeholder:{type:String},value:{type:String,default:""}},data(){return{}},computed:{listeners(){return{...this.$listeners,input:this.onInput}}},mounted(){this.$refs.editable.innerText=this.value},components:{},methods:{onInput(e){this.$emit("input",e.target.innerText)},focusInput(){this.$root.$el.classList.add("overlay")},blurInput(){this.$root.$el.classList.remove("overlay")}}},Z=I,U=(0,c.Z)(Z,$,k,!1,null,null,null),A=U.exports,E=s(6690);a.Z.use(x.Z),a.Z.use(E.Z);var T={name:"SendView",data(){return{fonts:[{text:"Aa",font:"teko"},{text:"Aa",font:"zen"},{text:"Aa",font:"zilla"}],tools:{align:"left",font:"teko",theme:"yellow"},hteste:0,message:"",currenUserRef:"",currenUser:""}},components:{InputText:A},created(){this.fetchUser()},mounted(){this.$root.$el.classList.remove("openMenu")},beforeRouteEnter(e,t,s){e.params.username?s():s("/")},methods:{alignText(){switch(this.tools.align){case"left":this.tools.align="center";break;case"center":this.tools.align="right";break;default:this.tools.align="left"}},changeThemes(){switch(this.tools.theme){case"red":this.tools.theme="blue";break;case"blue":this.tools.theme="green";break;case"green":this.tools.theme="yellow";break;case"yellow":this.tools.theme="greenlight";break;default:this.tools.theme="red"}},focusInput(){this.$root.$el.classList.add("overlay")},blurInput(){this.$root.$el.classList.remove("overlay")},onInput(e){this.message="",this.message=e.target.innerText},async fetchUser(){const e=(0,v.ad)(),t=(0,v.hJ)(e,"users"),s=(0,v.IO)(t,(0,v.ar)("username","==",this.$route.params.username)),a=await(0,v.PL)(s);a.forEach((e=>{this.currenUserRef=e.id,this.currenUser=e.data()}))},clearData(){this.message=""},async send(){const e=(0,v.ad)(),t=(0,v.JU)(e,"users",this.currenUserRef);await(0,v.r7)(t,{messages:(0,v.vr)({text:this.message,configs:this.tools})}),this.clearData()}}},j=T,L=(0,c.Z)(j,_,y,!1,null,null,null),O=L.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cadastro"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Nome"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),s("input",{ref:"photo",attrs:{type:"file",accept:"image/*"},on:{change:e.previewImage}}),s("img",{staticClass:"preview",attrs:{height:"268",width:"356",src:e.preview}}),s("button",{on:{click:e.onUpload}},[e._v("cadastrar")])])},D=[],M=s(3597),N={data(){return{imageData:"",preview:"",user:{name:"",email:"",photo:"",messages:[]}}},name:"CadastroView",components:{},mounted(){this.$root.$el.classList.remove("openMenu")},methods:{previewImage(e){this.imageData=e.target.files[0],this.preview=URL.createObjectURL(this.imageData)},onUpload(){const e=(0,M.cF)(),t=(0,M.iH)(e,`photos/${this.imageData.name}`),s=(0,M.B0)(t,this.imageData);s.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{}),(()=>{(0,M.Jt)(s.snapshot.ref).then((e=>{this.user.photo=e,this.submit()}))}))},async submit(){const e=(0,v.ad)();let t=this.user.email.match(/^([^@]*)@/)[1];try{const s=await(0,v.ET)((0,v.hJ)(e,"users"),{username:t.replace(/\./g,""),email:this.user.email,name:this.user.name,messages:this.user.messages,photo:this.user.photo});console.log("Document written with ID: ",s.id)}catch(s){console.error("Error adding document: ",s)}}}},J=N,R=(0,c.Z)(J,P,D,!1,null,null,null),S=R.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth"},[s("div",{staticClass:"header-auth"},[s("img",{staticClass:"photo",attrs:{src:e.user.photo}}),s("span",{staticClass:"title"},[e._v(e._s(e.isAuth?e.user.name:"Minhas mensagens"))])]),s("div",{staticClass:"wrap"},[e.isAuth?s("div",{staticClass:"on-auth"},[s("div",{staticClass:"wrap-input"}),s("div",{staticClass:"list"},e._l(e.user.messages,(function(t){return s("div",{staticClass:"message",class:["theme-"+t.configs.theme,"align-"+t.configs.align,"font-"+t.configs.font]},[e._m(0,!0),s("div",{staticClass:"text"},[e._v(e._s(t.text))])])})),0)]):s("div",{staticClass:"no-auth"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{placeholder:"email picpay",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("button",{staticClass:"button-submit",class:e.email.length>=4?"":"disable",on:{click:e.auth}},[e._v("Entrar")])])])])},B=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"borders"},[s("div",{staticClass:"top"}),s("div",{staticClass:"bottom"})])}],F={name:"HomeView",data(){return{email:"",isAuth:!1,user:{}}},components:{},created(){this.auth()},async beforeRouteEnter(e,t,s){r.Z.get("user")?s((e=>{e.fetchAuth(r.Z.get("user")),e.isAuth=!0})):s((e=>{e.isAuth=!1}))},mounted(){this.$root.$el.classList.remove("openMenu")},methods:{async fetchAuth(e){const t=(0,v.ad)(),s=await(0,v.QT)((0,v.JU)(t,"users",e));s.exists()?(this.user=s.data(),this.isAuth=!0):console.log("No such document")},setUserDetails(e){console.log(e)},async auth(){const e=(0,v.ad)(),t=(0,v.hJ)(e,"users"),s=(0,v.IO)(t,(0,v.ar)("email","==",this.email));let a=await(0,v.PL)(s);a.forEach((e=>{r.Z.set("user",e.id)})),this.fetchAuth(r.Z.get("user"))}}},z=F,H=(0,c.Z)(z,V,B,!1,null,null,null),Q=H.exports;a.Z.use(d.Z);const K=[{path:"/",name:"home",component:w},{path:"/send/:username?",name:"send",component:O},{path:"/register",name:"register",component:S},{path:"/auth",name:"auth",component:Q}],W=new d.Z({mode:"hash",base:"/",routes:K});var q=W,G=s(4665);a.Z.use(G.ZP);var Y=new G.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),X=s(9017);const ee={apiKey:"AIzaSyC2jBTWYWFCNmKiKfUWlVaNHmVQ2DITBf0",authDomain:"sfpj2022.firebaseapp.com",projectId:"sfpj2022",databaseURL:"https://sfpj2022-default-rtdb.firebaseio.com",storageBucket:"sfpj2022.appspot.com",messagingSenderId:"1002184773880",appId:"1:1002184773880:web:b56714f1ebabd62ac0eb0d",measurementId:"G-4EVLM9JQQ1"};(0,X.ZF)(ee);a.Z.config.productionTip=!1,new a.Z({router:q,store:Y,render:e=>e(m)}).$mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(i=!1,o<r&&(r=o));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,r=a[0],i=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var u=l(s)}for(t&&t(a);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},a=self["webpackChunksfpj"]=self["webpackChunksfpj"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5726)}));a=s.O(a)})();
//# sourceMappingURL=app.213317c2.js.map